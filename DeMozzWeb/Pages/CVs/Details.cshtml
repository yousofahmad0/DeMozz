@page
@model DeMozzWeb.Pages.CVs.DetailsModel
@{
	string vv=null;
	for (var i = 0; i < @Model.Skills.Count; i++)
	{
		if (i == @Model.Skills.Count - 1)
		{
			vv += @Model.Skills[i];
		}
		else
		{
			vv += @Model.Skills[i] + ", ";        
		}    
	}
}
<script src="~/lib/jquery/dist/jquery.min.js"></script>

<div class="container p-3">
	<div style="float:right">
		<form method="post"  asp-page-handler="GeneratePdf">
			<button id="btnPdf" disabled class="btn btn-outline-info">Generate PDF</button>
			<input id="htmlPdf" name="html" type="hidden"/>
			
		</form>
	</div>
	
    @*<button id="btnPdf" class="btn btn-outline-info" style="float:right">Generate PDF</button>*@
    <div id="pdf">
		<h1 class="text-warning mb-3">Details</h1>
        <h3><span class="text-info">First Name:</span> @Model.CV.FN</h3>
        <h3><span class="text-info">Last Name:</span> @Model.CV.LN</h3>
        <h3><span class="text-info">Gender:</span> @Model.CV.Gender</h3>
        <h3><span class="text-info">Date of Birth:</span> @Model.CV.DateOfBirth</h3>
        <h3><span class="text-info">Email:</span> @Model.CV.Email</h3>
        <h3><span class="text-info">Nationality:</span> @Model.CV.Nationality</h3>
        <h3><span class="text-info">Skills:</span> @vv</h3>
        <h3><span class="text-info">Grade:</span> @Model.CV.Grade</h3>
        @*<table style="width:100%">
		<thead>
			<tr>
				<th>
					First name
				</th>
				<th>
					Last Name
				</th>
				<th>
					Gender
				</th>
					
				<th>
					DateOfBirth
				</th>
				<th>
					 Nationality
				</th>
				<th>
					Skills
				</th>
				<th>
					Grade
				</th>
				<th>
					Email
				</th>
				
			</tr>
		</thead>
		<tbody>
		
			<tr>
				<td width="10%">
					@Model.CV.FN
				</td>
				<td width="10%">
					@Model.CV.LN
				</td>
				<td width="10%">
					@Model.CV.Gender
				</td>
				<td width="10%">
					@Model.CV.DateOfBirth
				</td>
				<td width="10%">
					@Model.CV.Nationality
				</td>
				<td width="20%">
					@vv
				</td>
				<td width="5%">
					@Model.CV.Grade
				</td>
				<td width="20%">
					@Model.CV.Email
				</td>


			</tr>
			
		</tbody>
		</table>*@
        
    </div>
    <div class="mt-3">
		@if (!string.IsNullOrWhiteSpace(@Model.CV.File))
		{
			<img src="@Model.CV.File" alt="Resume Image" width="100%" />
		}
	</div>
    
</div>

<script type="text/javascript">

	var sHtml = $("#pdf").html();
	$("htmlPdf").val(sHtml);

    //sHtml = sHtml.replace(/</g, "StrTag").replace(/>/g, "EndTag");
	//window.open('Details/GeneratePdf?html=' + sHtml,'_blank');
    
</script>


